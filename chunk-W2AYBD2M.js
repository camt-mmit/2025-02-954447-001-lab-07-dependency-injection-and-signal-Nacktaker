import{Fa as k,G as R,Ga as w,Ia as M,Ja as S,K as y,Ka as h,La as B,Ma as _,Na as f,P as m,Pa as d,Q as u,Qa as a,Ra as b,Sa as L,Ta as N,Ua as C,Va as p,Xa as s,Za as x,a as l,b as g,ba as j,bb as A,cb as J,eb as T,hb as q,ia as z,ib as $,jb as P,mb as G,nb as U,oa as r,tb as X,ya as v}from"./chunk-XQ6KODIX.js";function V(n=""){return{value:n}}function F(n="",t){return{name:n,inputs:t?t.map(e=>V(e)):[V()]}}function H(n){return g(l({},n),{inputs:[...n.inputs,V()]})}function K(n,t){return g(l({},n),{inputs:n.inputs.filter((e,o)=>o!==t)})}function Q(n){return[...n,F()]}function W(n,t){return n.filter((e,o)=>o!==t)}function Y(n){return n.inputs.reduce((t,e)=>t+(Number(e.value)||0),0)}function te(n,t){if(n&1){let e=b();d(0,"button",7),C("click",function(){m(e);let i=p();return u(i.remove.emit())}),s(1,"\u2715"),a()}}function ne(n,t){if(n&1){let e=b();d(0,"button",10),C("click",function(){m(e);let i=p().$index,c=p();return u(c.removeInput(i))}),s(1,"X"),a()}}function oe(n,t){if(n&1){let e=b();d(0,"li",4)(1,"span"),s(2),a(),d(3,"input",8),C("input",function(i){let c=m(e).$index,E=p();return u(E.changeInput(c,i.target.value))}),a(),k(4,ne,2,0,"button",9),a()}if(n&2){let e=t.$implicit,o=t.$index,i=t.$count;r(2),x("Number ",o+1),r(),L("value",e.value),r(),w(i>1?4:-1)}}var O=class n{number=$(NaN,{transform:U});section=P.required();removable=$(!0,{transform:G});remove=q();inputCount=T(()=>this.section().inputs.length);totalResult=T(()=>Y(this.section()));addInput(){this.section.update(t=>H(t))}removeInput(t){this.section.update(e=>K(e,t))}changeInput(t,e){this.section.update(o=>g(l({},o),{inputs:o.inputs.map((i,c)=>c===t?g(l({},i),{value:e}):i)}))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-dynamic-input"]],inputs:{number:[1,"number"],section:[1,"section"],removable:[1,"removable"]},outputs:{section:"sectionChange",remove:"remove"},decls:14,vars:5,consts:[[1,"section-header"],["type","button",3,"click"],["type","button",1,"remove-section"],[1,"input-list"],[1,"input-item"],[1,"section-footer"],[1,"section-total"],["type","button",1,"remove-section",3,"click"],["type","number",3,"input","value"],["type","button",1,"remove-input"],["type","button",1,"remove-input",3,"click"]],template:function(e,o){e&1&&(d(0,"header",0)(1,"button",1),C("click",function(){return o.addInput()}),s(2,"+ Input"),a(),d(3,"b"),s(4),a(),k(5,te,2,0,"button",2),a(),d(6,"ul",3),S(7,oe,5,3,"li",4,M),a(),d(9,"footer",5)(10,"div",6)(11,"strong"),s(12),A(13,"number"),a()()()),e&2&&(r(4),x("Section ",o.number()),r(),w(o.removable()?5:-1),r(2),h(o.section().inputs),r(5),x("Result: ",J(13,3,o.totalResult())))},dependencies:[X],styles:["[_nghost-%COMP%]{display:block;margin-bottom:20px;background:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 2px 4px #0000000d;overflow:hidden}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:12px 16px;background-color:#f8f9fa;border-bottom:1px solid #eee}.section-header[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{font-size:1.1rem;color:#333;flex-grow:1;text-align:center}.section-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{cursor:pointer;border-radius:4px;padding:6px 12px;border:none;transition:opacity .2s}.section-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{opacity:.8}.section-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background-color:#007bff;color:#fff;font-weight:700}.section-header[_ngcontent-%COMP%]   button.remove-section[_ngcontent-%COMP%]{background-color:#dc3545;color:#fff;font-size:18px;padding:4px 10px}.input-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 16px;border-bottom:1px solid #f1f1f1}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{min-width:100px;font-weight:500;color:#555}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;padding:8px 12px;border:1px solid #ccc;border-radius:4px;font-size:1rem;margin:0 10px}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   .remove-input[_ngcontent-%COMP%]{background-color:#ffcdd2;color:#c62828;border:none;border-radius:4px;padding:6px 10px;cursor:pointer;font-weight:700}.input-list[_ngcontent-%COMP%]   .input-item[_ngcontent-%COMP%]   .remove-input[_ngcontent-%COMP%]:hover{background-color:#ef9a9a}.section-footer[_ngcontent-%COMP%]{padding:12px 16px;background-color:#fff;border-top:1px solid #eee;text-align:right}.section-footer[_ngcontent-%COMP%]   .section-total[_ngcontent-%COMP%]{font-size:1.1rem;color:#333}.section-footer[_ngcontent-%COMP%]   .section-total[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000;border-bottom:2px double #333;padding-bottom:2px}"],changeDetection:0})};var ie="section-data",D=class n{keyName=`${y(z)}-${ie}`;get(){let t=localStorage.getItem(this.keyName);return JSON.parse(t??"null")}set(t){let e=JSON.stringify(t);localStorage.setItem(this.keyName,e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=R({token:n,factory:n.\u0275fac,providedIn:"root"})};function re(n,t){if(n&1){let e=b();_(0,"li",5)(1,"app-dynamic-input",6),N("sectionChange",function(i){let c=m(e).$index,E=p();return u(E.changeSection(c,i))})("remove",function(){let i=m(e).$index,c=p();return u(c.removeSection(i))}),f()()}if(n&2){let e=t.$implicit,o=t.$index,i=t.$count;r(),B("number",o+1)("section",e)("removable",i>1)}}var I=class n{storage=y(D);sections=P(this.storage.get()??[F()]);constructor(){j(()=>{this.storage.set([...this.sections()])})}addSection(){this.sections.update(t=>Q([...t]))}removeSection(t){this.sections.update(e=>W([...e],t))}changeSection(t,e){this.sections.update(o=>o.map((i,c)=>c===t?e:i))}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-dynamic-section"]],inputs:{sections:[1,"sections"]},outputs:{sections:"sectionsChange"},decls:10,vars:1,consts:[[1,"main-header"],["type","button",1,"btn-add-section",3,"click"],[1,"icon"],[1,"section-count"],[1,"section-list"],[1,"section-item"],[3,"sectionChange","remove","number","section","removable"]],template:function(e,o){e&1&&(_(0,"header",0)(1,"button",1),N("click",function(){return o.addSection()}),_(2,"span",2),s(3,"\uFF0B"),f(),s(4," Section "),f(),_(5,"span",3),s(6),f()(),_(7,"ul",4),S(8,re,2,3,"li",5,M),f()),e&2&&(r(6),x("(",o.sections().length,")"),r(2),h(o.sections()))},dependencies:[O],styles:["[_nghost-%COMP%]{display:block;max-width:600px;margin:20px auto;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}header[_ngcontent-%COMP%]{margin-bottom:20px;text-align:left}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4f46e5;color:#fff;border:none;padding:10px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:transform .1s,background .2s}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#4338ca}header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}ul[_ngcontent-%COMP%]{list-style:none;padding:0;display:flex;flex-direction:column;gap:24px}"],changeDetection:0})};var Oe=[{path:"",component:I}];export{Oe as default};
